<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/main.css">
    <title>Log in</title>
</head>
<body class="grey-bg">

    <%- include('nav.ejs') %>

    <!-- 글 작성 폼 만들기 -->
    <!-- form은 action에 url주소, method에 해당메소드를 작성해주어야 함 -->
    <!-- 아래의 form은 유저가 submit을 누르면 /newpost로 post요청이 가게 됨 -->
    <form action="/login" method="POST" class="form-box">
        <h4>로그인</h4>
        <!-- input에 name을 꼭 기입해주어야 post 시 정상적으로 자료가 전송됨 -->
        <input name="username" placeholder="ID">
        <input name="password" placeholder="PW" type="password">
        <button type="submit">로그인</button>
    </form>
    
    <form action="/signup" method="post" class="form-box">
        <h4>회원가입</h4>
        <input name="username" placeholder="ID">
        <input id="pw" name="password" placeholder="PW" type="password">
        <input id="check-pw" name="checkPassword" placeholder="암호를 한 번 더 입력하시오." type="password">
        <p class="check-pw-text" style="font-size: 14px;"></p>
        <button id="submit-btn" type="submit">가입하기</button>
    </form>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js' integrity='sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==' crossorigin='anonymous'></script>

    <script>
        $('#check-pw').on('input', ()=>{
            const newPw = $('#pw').val();
            const newCheckPw = $('#check-pw').val();
            if (newCheckPw == newPw){
                $('.check-pw-text').removeClass('active-none');
                $('.check-pw-text').addClass('active-agree');
                $('.check-pw-text').html('암호가 일치합니다.');
            } else {
                $('.check-pw-text').addClass('active-none');
                $('.check-pw-text').html('암호가 일치하지 않습니다.');
            }

            if (newCheckPw == ''){
                $('.check-pw-text').removeClass('active-agree');
                $('.check-pw-text').removeClass('active-none');
                $('.check-pw-text').html('');
            }
        })

        $('#submit-btn').click(() => {
            $('.check-pw-text').removeClass('active-agree');
            $('.check-pw-text').removeClass('active-none');
            $('.check-pw-text').html('');
        })
    </script>

  </body>
</html>